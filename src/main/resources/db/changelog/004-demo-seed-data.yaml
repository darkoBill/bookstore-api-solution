databaseChangeLog:
  - changeSet:
      id: 009-seed-demo-data
      author: bookstore-api
      context: demo
      changes:
        - sql:
            sql: |
              INSERT INTO authors (id, name, created_at, updated_at) VALUES
              ('11111111-1111-1111-1111-111111111111', 'Robert C. Martin', NOW(), NOW()),
              ('22222222-2222-2222-2222-222222222222', 'Martin Fowler', NOW(), NOW()),
              ('33333333-3333-3333-3333-333333333333', 'Kent Beck', NOW(), NOW()),
              ('44444444-4444-4444-4444-444444444444', 'Eric Evans', NOW(), NOW())
              ON CONFLICT DO NOTHING;
              
              INSERT INTO genres (id, name, created_at, updated_at) VALUES
              ('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 'Programming', NOW(), NOW()),
              ('bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 'Software Engineering', NOW(), NOW()),
              ('cccccccc-cccc-cccc-cccc-cccccccccccc', 'Architecture', NOW(), NOW()),
              ('dddddddd-dddd-dddd-dddd-dddddddddddd', 'Methodology', NOW(), NOW())
              ON CONFLICT DO NOTHING;
              
              INSERT INTO books (id, title, price, published_year, isbn, created_at, updated_at) VALUES
              ('eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', 'Clean Code', 45.99, 2008, '978-0132350884', NOW(), NOW()),
              ('ffffffff-ffff-ffff-ffff-ffffffffffff', 'Refactoring', 54.99, 1999, '978-0201485677', NOW(), NOW()),
              ('12345678-1234-5678-abcd-123456789012', 'Test Driven Development', 42.99, 2002, '978-0321146533', NOW(), NOW()),
              ('87654321-4321-8765-dcba-210987654321', 'Domain-Driven Design', 67.99, 2003, '978-0321125217', NOW(), NOW())
              ON CONFLICT DO NOTHING;
              
              INSERT INTO book_authors (book_id, author_id) VALUES
              ('eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', '11111111-1111-1111-1111-111111111111'),
              ('ffffffff-ffff-ffff-ffff-ffffffffffff', '22222222-2222-2222-2222-222222222222'),
              ('12345678-1234-5678-abcd-123456789012', '33333333-3333-3333-3333-333333333333'),
              ('87654321-4321-8765-dcba-210987654321', '44444444-4444-4444-4444-444444444444')
              ON CONFLICT DO NOTHING;
              
              INSERT INTO book_genres (book_id, genre_id) VALUES
              ('eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa'),
              ('eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', 'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb'),
              ('ffffffff-ffff-ffff-ffff-ffffffffffff', 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa'),
              ('ffffffff-ffff-ffff-ffff-ffffffffffff', 'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb'),
              ('12345678-1234-5678-abcd-123456789012', 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa'),
              ('12345678-1234-5678-abcd-123456789012', 'dddddddd-dddd-dddd-dddd-dddddddddddd'),
              ('87654321-4321-8765-dcba-210987654321', 'cccccccc-cccc-cccc-cccc-cccccccccccc'),
              ('87654321-4321-8765-dcba-210987654321', 'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb')
              ON CONFLICT DO NOTHING;
      rollback:
        - sql:
            sql: |
              DELETE FROM book_genres WHERE book_id IN (
                'eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee',
                'ffffffff-ffff-ffff-ffff-ffffffffffff',
                '12345678-1234-5678-abcd-123456789012',
                '87654321-4321-8765-dcba-210987654321'
              );
              DELETE FROM book_authors WHERE book_id IN (
                'eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee',
                'ffffffff-ffff-ffff-ffff-ffffffffffff',
                '12345678-1234-5678-abcd-123456789012',
                '87654321-4321-8765-dcba-210987654321'
              );
              DELETE FROM books WHERE id IN (
                'eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee',
                'ffffffff-ffff-ffff-ffff-ffffffffffff',
                '12345678-1234-5678-abcd-123456789012',
                '87654321-4321-8765-dcba-210987654321'
              );
              DELETE FROM genres WHERE id IN (
                'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa',
                'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb',
                'cccccccc-cccc-cccc-cccc-cccccccccccc',
                'dddddddd-dddd-dddd-dddd-dddddddddddd'
              );
              DELETE FROM authors WHERE id IN (
                '11111111-1111-1111-1111-111111111111',
                '22222222-2222-2222-2222-222222222222',
                '33333333-3333-3333-3333-333333333333',
                '44444444-4444-4444-4444-444444444444'
              );